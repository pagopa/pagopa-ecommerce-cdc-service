# Mongo
spring.data.mongodb.uri=mongodb://mongo:mongo@mongo:27017/?ssl=false
spring.data.mongodb.database=ecommerce

# Expiration queue
cdc.queue.storageConnectionString=DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;QueueEndpoint=http://localhost:10001/devstoreaccount1
cdc.queue.storageQueueName="pagopa-ecommerce-transactions-expiration-queue"
cdc.queue.ttlSeconds=3600
cdc.queue.visibilityTimeoutEcommerceCdc=30

# CDC Config
cdc.ecommerce-transactions-log-events.collection=eventstore
cdc.ecommerce-transactions-log-events.operationType=insert,update,replace
cdc.ecommerce-transactions-log-events.project=fullDocument

# Retry policy configuration for tests
cdc.retry-send.maxAttempts=1
cdc.retry-send.intervalInMs=100

# Retry policy for stream connection
cdc.retry-stream.maxAttempts=2
cdc.retry-stream.intervalInMs=100

# CDC lock policy
cdc.redis-job-lock.keyspace=lockkeyspace
cdc.redis-job-lock.ttlInMs=1000
cdc.redis-job-lock.waitTimeInMs=100

# CDC resume policy
cdc.redis-resume.keyspace=keyspace
cdc.redis-resume.target=target
cdc.redis-resume.fallbackInMin=10
cdc.redis-resume.ttlInMin=10
cdc.resume.saveInterval=5

# Redis Configuration for Tests
spring.data.redis.host=localhost
spring.data.redis.password=test_password
spring.data.redis.port=6379
spring.data.redis.ssl.enabled=false
spring.data.redis.repositories.type=none
spring.jackson.default-property-inclusion=non_null